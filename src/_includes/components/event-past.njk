<div
	class="bg-white max-w-xl mx-auto border border-gray-300 rounded-md"
	x-data="{selected:null}"
>
	<ul class="shadow-box">
		<!-- sorted by year past events -->
		{% for date, event in collections.eventsVergangenheit | groupby("date") %}

		<li class="relative">
			<button
				type="button"
				class="w-full px-8 py-6 text-left"
				@click="selected !== {{ loop.index }} ? selected = {{
					loop.index
				}} : selected = null"
			>
				<div class="flex items-center justify-between">
					<h3 class="md:font-semibold 2xl:font-bold">
						{{ event.date | date("YYYY", locale) 	}}
					</h3>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="32"
						height="32"
						viewBox="0 0 24 24"
						stroke-width="1.5"
						stroke="#000000"
						fill="none"
						stroke-linecap="round"
						stroke-linejoin="round"
					>
						<path stroke="none" d="M0 0h24v24H0z" fill="none" />
						<line x1="12" y1="5" x2="12" y2="19" />
						<line x1="18" y1="13" x2="12" y2="19" />
						<line x1="6" y1="13" x2="12" y2="19" />
					</svg>
				</div>
			</button>

			<div
				class="relative overflow-hidden max-h-0"
				style=""
				x-ref="container{{ loop.index }}"
				x-bind:style="selected == {{
					loop.index
				}} ? 'max-height: ' + $refs.container{{
					loop.index
				}}.scrollHeight + 'px' : ''"
			>
				<div class="p-6">
					{% for event in collections.eventsVergangenheit %}
					<p>
						<a
							class="
								no-underline
								text-sm
								bg-gray-200
								py-0.5
								rouded-sm
								pr-1
								hover:bg-yellow-400
							"
							href="{{ event.url }}"
						>
							<span class="bg-black text-white px-2 py-0.5 rouded-sm">
								{{ event.data.date | date("Do MMMM yyyy", locale) }}:</span
							>
							{{ event.data.title }}</a
						>
					</p>
					{% endfor %}
				</div>
			</div>
		</li>
		{% endfor %}

		<!-- <li class="relative border-b border-gray-200">
			<button
				type="button"
				class="w-full px-8 py-6 text-left"
				@click="selected !== 3 ? selected = 3 : selected = null"
			>
				<div class="flex items-center justify-between">
					<span> Can I run reCAPTCHA v2 and v3 on the same page? </span>
					<span class="ico-plus"></span>
				</div>
			</button>

			<div
				class="relative overflow-hidden transition-all max-h-0 duration-700"
				style=""
				x-ref="container3"
				x-bind:style="selected == 3 ? 'max-height: ' + $refs.container3.scrollHeight + 'px' : ''"
			>
				<div class="p-6">
					<p>
						To do this, load the v3 site key as documented, and then explicitly
						render v2 using grecaptcha.render.
					</p>

				</div>
			</div>
		</li> -->
	</ul>
</div>
